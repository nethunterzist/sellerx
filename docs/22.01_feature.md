# SellerX - Geliştirme Checklist

> **Tarih:** 22 Ocak 2026
> **Durum:** Devam Ediyor

---

## P0 - Kritik Düzeltmeler

### 2.1 Net Kar Hesaplama
- [x] DashboardStatsDto.java'ya `netProfit` ve `profitMargin` alanları ekle
- [x] DashboardStatsService.java'da net kar formülünü düzelt
- [x] Frontend types/dashboard.ts'e `netProfit` ve `profitMargin` ekle
- [x] period-cards.tsx'te backend'den gelen netProfit değerini kullan (local hesaplama yerine)
- [x] Build ve test

### 2.2 Test Coverage
- [ ] JUnit 5 + Mockito yapılandırması
- [ ] Test container'ları kurulumu (PostgreSQL)
- [ ] Auth modülü testleri (%90 hedef)
- [ ] Orders/FIFO testleri (%85 hedef)
- [ ] Financial testleri (%80 hedef)
- [ ] Dashboard Stats testleri (%80 hedef)
- [ ] Jest + React Testing Library kurulumu (Frontend)
- [ ] Hook testleri
- [ ] Component testleri
- [ ] E2E testleri (Playwright)

### 2.3 İade Maliyeti Dinamik
- [x] ReturnRecordRepository.sumTotalLossByStoreAndDateRange() kullan
- [x] DashboardStatsService'te calculateActualReturnCost() metodu oluştur
- [x] Fallback mekanizması (ReturnRecord yoksa 50 TL sabit)
- [x] Loglama ekle

---

## P1 - Yüksek Öncelikli

### 3.1 iyzico Ödeme Entegrasyonu
- [ ] iyzico sandbox hesabı kur
- [ ] API credentials'ı environment'a ekle
- [ ] Payment service implement et
- [ ] 3D Secure flow'u tamamla
- [ ] Webhook endpoint ekle
- [ ] Sandbox'ta test et
- [ ] Production'a geç

### 3.2 TypeScript Strict Mode
- [ ] tsconfig.json'da strict: true yap
- [ ] Build hatalarını listele
- [ ] Dosya dosya düzelt
- [ ] next.config.ts'de ignoreBuildErrors: false yap
- [ ] CI'da type check ekle

### 3.3 AI Cevap Sistemi Aktivasyonu
- [ ] OpenAI API key'i environment'a ekle
- [ ] AiAnswerService'i test et
- [ ] Frontend'de onay UI'ı ekle
- [ ] Auto-submit özelliğini aktif et
- [ ] Token usage tracking ekle

### 3.4 PDF Fatura Üretimi
- [ ] PDF generator kütüphanesi seç (iTextPDF/JasperReports/Flying Saucer)
- [ ] Fatura şablonu oluştur
- [ ] PDF generator service yaz
- [ ] Storage çözümü (S3 veya local)
- [ ] Download endpoint
- [ ] E-fatura entegrasyonu (GIB)

---

## P2 - Orta Öncelikli

### 4.1 Webhook Yönetim UI
- [ ] Settings > Webhooks sayfası tasarla
- [ ] Webhook durumu toggle (aktif/pasif)
- [ ] Son 50 event listesi
- [ ] Event detay modal
- [ ] Test webhook butonu
- [ ] Webhook URL gösterimi

### 4.2 İade Sebep Analizi
- [ ] İade sebebi kategorileri tanımla
- [ ] Sebep bazlı istatistikler
- [ ] Ürün bazlı iade sebepleri
- [ ] Trend analizi
- [ ] Öneri sistemi (yüksek iade oranı uyarısı)

### 4.3 Stok Tahmini (Forecasting)
- [ ] Satış hızı hesaplama (son 7/30/90 gün)
- [ ] "X gün sonra biter" tahmini
- [ ] Reorder point hesaplama
- [ ] Mevsimsellik analizi
- [ ] Düşük stok uyarıları

### 4.4 Rapor Dışa Aktarma
- [ ] PDF rapor export (dashboard, P&L, stok değerleme)
- [ ] CSV export (ürünler, siparişler, giderler)
- [ ] Excel export (detaylı raporlar)
- [ ] API export (JSON)
- [ ] Zamanlanmış raporlar (günlük/haftalık/aylık email)

### 4.5 Bildirim Merkezi
- [ ] Düşük stok uyarısı
- [ ] Yüksek iade oranı uyarısı
- [ ] Sipariş durumu değişikliği
- [ ] Ödeme bildirimleri
- [ ] Komisyon değişikliği
- [ ] Sync hataları
- [ ] Webhook hataları
- [ ] In-app notifications UI
- [ ] Email bildirim entegrasyonu

---

## P3 - Düşük Öncelikli

### 5.1 Redis Cache
- [ ] Redis kurulumu
- [ ] Ürün listesi cache (5 dk TTL)
- [ ] Dashboard istatistikleri cache (1 dk TTL)
- [ ] Komisyon oranları cache (1 saat TTL)
- [ ] Kategori listesi cache (1 gün TTL)
- [ ] Döviz kurları cache (1 saat TTL)

### 5.2 Mobile Optimizasyon
- [ ] Dashboard mobile view
- [ ] Hamburger menu
- [ ] Touch-friendly butonlar
- [ ] Swipe gestures
- [ ] Mobile-specific navigation

### 5.3 Performance Optimizasyonu
- [ ] Bundle size analizi (webpack-bundle-analyzer)
- [ ] Code splitting per page
- [ ] Virtual scrolling (uzun listeler)
- [ ] Image lazy loading
- [ ] Chart memoization
- [ ] Query optimization
- [ ] N+1 query fix
- [ ] Index ekleme

### 5.4 Error Tracking (Sentry)
- [ ] Frontend Sentry SDK kurulumu
- [ ] Backend Sentry SDK kurulumu
- [ ] Error grouping
- [ ] Performance monitoring
- [ ] Release tracking

### 5.5 API Dokümantasyonu
- [ ] Swagger/OpenAPI kurulumu
- [ ] Endpoint dokümantasyonu
- [ ] Postman collection

---

## Yeni Özellik Önerileri

### 6.1 Gelişmiş Karlılık Dashboard'u
- [ ] Ürün bazlı kar tablosu
- [ ] Kategori bazlı kar grafiği
- [ ] Zaman serisi (günlük/haftalık/aylık)
- [ ] Kar/zarar analizi
- [ ] Break-even analizi

### 6.2 Rekabet Analizi
- [ ] Rakip fiyat takibi
- [ ] Fiyat karşılaştırma grafikleri
- [ ] Pazar payı tahmini
- [ ] Fiyat optimizasyon önerileri

### 6.3 Otomatik Fiyatlandırma
- [ ] Minimum kar marjı belirleme
- [ ] Stok durumuna göre fiyat ayarlama
- [ ] Kampanya dönemlerinde otomatik indirim
- [ ] Rakip fiyatına göre ayarlama

### 6.4 Tedarikçi Yönetimi
- [ ] Tedarikçi CRUD
- [ ] Tedarikçi bazlı PO takibi
- [ ] Performans skorları
- [ ] Lead time takibi

### 6.5 Çoklu Pazar Yeri Desteği
- [ ] Hepsiburada entegrasyonu
- [ ] Amazon TR entegrasyonu
- [ ] N11 entegrasyonu

### 6.6 Mobil Uygulama
- [ ] Teknoloji seçimi
- [ ] MVP tasarım
- [ ] Dashboard görüntüleme
- [ ] Push bildirimler

### 6.7 Entegrasyonlar
- [ ] E-Fatura (GIB)
- [ ] Parasut entegrasyonu
- [ ] Logo entegrasyonu
- [ ] Kargo firmaları API

---

## Teknik Borç

### Kod Kalitesi
- [x] Hardcoded return cost fix (DashboardStatsService:47)
- [ ] TypeScript strict: false → true
- [ ] ignoreBuildErrors: true → false
- [ ] Test coverage 0% → %80+
- [ ] TODO comments temizliği (15+ lokasyon)
- [ ] N+1 query fix
- [ ] Missing indexes

### Güvenlik
- [ ] Webhook signature zorunlu yap
- [ ] Per-user rate limiting ekle
- [ ] Sensitive ops audit logging
- [ ] JWT secret hata mesajı iyileştir

---

## Özet

| Öncelik | Toplam | Tamamlanan | Kalan |
|---------|--------|------------|-------|
| P0 | 14 | 9 | 5 |
| P1 | 17 | 0 | 17 |
| P2 | 24 | 0 | 24 |
| P3 | 21 | 0 | 21 |
| Yeni Özellikler | 21 | 0 | 21 |
| Teknik Borç | 12 | 1 | 11 |

---

*Son güncelleme: 22 Ocak 2026*
