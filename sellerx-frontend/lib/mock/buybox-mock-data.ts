// Mock data for BuyBox Tracking feature visualization
import type {
  BuyboxTrackedProduct,
  BuyboxAlert,
  BuyboxDashboard,
  BuyboxAlertType,
  BuyboxStatus,
} from "@/types/buybox";

// Helper to generate a date N days/hours ago
function daysAgo(n: number): string {
  const date = new Date();
  date.setDate(date.getDate() - n);
  return date.toISOString();
}

function hoursAgo(n: number): string {
  const date = new Date();
  date.setHours(date.getHours() - n);
  return date.toISOString();
}

// 5 Mock Products with varied BuyBox statuses
export const MOCK_PRODUCTS: BuyboxTrackedProduct[] = [
  {
    id: "mock-bb-1",
    storeId: "mock-store",
    productId: "prod-123456",
    productTitle: "iPhone 15 Pro Max Ultra Hybrid Kılıf - Şeffaf",
    productBarcode: "8681234567890",
    productImageUrl: "https://cdn.dsmcdn.com/ty851/product/media/images/20230522/15/358273826/932876839/1/1_org_zoom.jpg",
    trendyolProductId: "123456789",
    isActive: true,
    alertOnLoss: true,
    alertOnNewCompetitor: true,
    alertPriceThreshold: 10,
    lastStatus: "WON" as BuyboxStatus,
    lastWinnerPrice: 299.99,
    lastWinnerName: "Mağazanız",
    myPrice: 299.99,
    priceDifference: 0,
    myPosition: 1,
    totalSellers: 3,
    lastCheckedAt: hoursAgo(1),
    createdAt: daysAgo(30),
    updatedAt: hoursAgo(1),
  },
  {
    id: "mock-bb-2",
    storeId: "mock-store",
    productId: "prod-234567",
    productTitle: "Samsung Galaxy S24 Ultra 67W Hızlı Şarj Aleti",
    productBarcode: "8682345678901",
    productImageUrl: "https://cdn.dsmcdn.com/ty1083/product/media/images/prod/QC/20240318/13/ef59ef62-c428-3a7d-a9f4-f8e05d6f7e98/1_org_zoom.jpg",
    trendyolProductId: "234567890",
    isActive: true,
    alertOnLoss: true,
    alertOnNewCompetitor: true,
    alertPriceThreshold: 15,
    lastStatus: "LOST" as BuyboxStatus,
    lastWinnerPrice: 169.99,
    lastWinnerName: "TechStore",
    myPrice: 189.99,
    priceDifference: -20.00,
    myPosition: 2,
    totalSellers: 4,
    lastCheckedAt: hoursAgo(2),
    createdAt: daysAgo(25),
    updatedAt: hoursAgo(2),
  },
  {
    id: "mock-bb-3",
    storeId: "mock-store",
    productId: "prod-345678",
    productTitle: "Xiaomi 14 Pro USB-C 100W Hızlı Şarj Kablosu 1.5m",
    productBarcode: "8683456789012",
    productImageUrl: "https://cdn.dsmcdn.com/ty959/product/media/images/20230803/16/398217449/977698557/1/1_org_zoom.jpg",
    trendyolProductId: "345678901",
    isActive: true,
    alertOnLoss: true,
    alertOnNewCompetitor: false,
    alertPriceThreshold: 5,
    lastStatus: "RISK" as BuyboxStatus,
    lastWinnerPrice: 84.99,
    lastWinnerName: "KabloMarket",
    myPrice: 89.99,
    priceDifference: -5.00,
    myPosition: 2,
    totalSellers: 5,
    lastCheckedAt: hoursAgo(3),
    createdAt: daysAgo(20),
    updatedAt: hoursAgo(3),
  },
  {
    id: "mock-bb-4",
    storeId: "mock-store",
    productId: "prod-456789",
    productTitle: "Apple Watch Ultra 2 Ocean Band Kordon - Mavi",
    productBarcode: "8684567890123",
    productImageUrl: "https://cdn.dsmcdn.com/ty1041/product/media/images/prod/SPM/PIM/20240218/20/3c89b6e8-8523-3bff-93ab-f68f5bda3fe2/1_org_zoom.jpg",
    trendyolProductId: "456789012",
    isActive: true,
    alertOnLoss: true,
    alertOnNewCompetitor: true,
    alertPriceThreshold: 20,
    lastStatus: "NO_COMPETITION" as BuyboxStatus,
    lastWinnerPrice: 599.99,
    lastWinnerName: "Mağazanız",
    myPrice: 599.99,
    priceDifference: 0,
    myPosition: 1,
    totalSellers: 1,
    lastCheckedAt: hoursAgo(1),
    createdAt: daysAgo(15),
    updatedAt: hoursAgo(1),
  },
  {
    id: "mock-bb-5",
    storeId: "mock-store",
    productId: "prod-567890",
    productTitle: "AirPods Pro 2 Silikon Koruyucu Kılıf - Siyah",
    productBarcode: "8685678901234",
    productImageUrl: "https://cdn.dsmcdn.com/ty850/product/media/images/20230521/23/358120830/932699870/1/1_org_zoom.jpg",
    trendyolProductId: "567890123",
    isActive: true,
    alertOnLoss: true,
    alertOnNewCompetitor: true,
    alertPriceThreshold: 10,
    lastStatus: "LOST" as BuyboxStatus,
    lastWinnerPrice: 179.99,
    lastWinnerName: "AksesuarDünyası",
    myPrice: 199.99,
    priceDifference: -20.00,
    myPosition: 3,
    totalSellers: 6,
    lastCheckedAt: hoursAgo(4),
    createdAt: daysAgo(10),
    updatedAt: hoursAgo(4),
  },
];

// Mock alerts
export const MOCK_ALERTS: BuyboxAlert[] = [
  {
    id: "alert-bb-1",
    storeId: "mock-store",
    trackedProductId: "mock-bb-2",
    alertType: "BUYBOX_LOST" as BuyboxAlertType,
    title: "Buybox Kaybedildi",
    message: "Samsung Galaxy S24 Ultra 67W Hızlı Şarj Aleti ürününde buybox'ı TechStore'a kaybettiniz. Rakip fiyatı: ₺169.99",
    productTitle: "Samsung Galaxy S24 Ultra 67W Hızlı Şarj Aleti",
    productImageUrl: "https://cdn.dsmcdn.com/ty1083/product/media/images/prod/QC/20240318/13/ef59ef62-c428-3a7d-a9f4-f8e05d6f7e98/1_org_zoom.jpg",
    oldWinnerName: "Mağazanız",
    newWinnerName: "TechStore",
    priceBefore: 189.99,
    priceAfter: 169.99,
    isRead: false,
    createdAt: hoursAgo(2),
  },
  {
    id: "alert-bb-2",
    storeId: "mock-store",
    trackedProductId: "mock-bb-3",
    alertType: "NEW_COMPETITOR" as BuyboxAlertType,
    title: "Yeni Rakip Eklendi",
    message: "Xiaomi 14 Pro USB-C 100W Hızlı Şarj Kablosu ürününe yeni bir satıcı eklendi: ElektronikPazarı (₺87.99)",
    productTitle: "Xiaomi 14 Pro USB-C 100W Hızlı Şarj Kablosu 1.5m",
    productImageUrl: "https://cdn.dsmcdn.com/ty959/product/media/images/20230803/16/398217449/977698557/1/1_org_zoom.jpg",
    newWinnerName: "ElektronikPazarı",
    priceAfter: 87.99,
    isRead: false,
    createdAt: daysAgo(1),
  },
  {
    id: "alert-bb-3",
    storeId: "mock-store",
    trackedProductId: "mock-bb-1",
    alertType: "BUYBOX_WON" as BuyboxAlertType,
    title: "Buybox Kazanıldı",
    message: "iPhone 15 Pro Max Ultra Hybrid Kılıf ürününde buybox'ı geri kazandınız!",
    productTitle: "iPhone 15 Pro Max Ultra Hybrid Kılıf - Şeffaf",
    productImageUrl: "https://cdn.dsmcdn.com/ty851/product/media/images/20230522/15/358273826/932876839/1/1_org_zoom.jpg",
    oldWinnerName: "AksesuarMarket",
    newWinnerName: "Mağazanız",
    priceBefore: 309.99,
    priceAfter: 299.99,
    isRead: true,
    createdAt: daysAgo(3),
    readAt: daysAgo(2),
  },
  {
    id: "alert-bb-4",
    storeId: "mock-store",
    trackedProductId: "mock-bb-5",
    alertType: "PRICE_RISK" as BuyboxAlertType,
    title: "Fiyat Riski",
    message: "AirPods Pro 2 Silikon Koruyucu Kılıf ürününde fiyat farkı eşik değerine (₺10) yaklaştı. Mevcut fark: ₺20",
    productTitle: "AirPods Pro 2 Silikon Koruyucu Kılıf - Siyah",
    productImageUrl: "https://cdn.dsmcdn.com/ty850/product/media/images/20230521/23/358120830/932699870/1/1_org_zoom.jpg",
    priceBefore: 199.99,
    priceAfter: 179.99,
    isRead: true,
    createdAt: daysAgo(5),
    readAt: daysAgo(4),
  },
];

// Mock dashboard statistics
export const MOCK_DASHBOARD: BuyboxDashboard = {
  storeId: "mock-store",
  totalTrackedProducts: 5,
  wonCount: 1,
  lostCount: 2,
  riskCount: 1,
  noCompetitionCount: 1,
  unreadAlertCount: 2,
  products: MOCK_PRODUCTS,
  recentAlerts: MOCK_ALERTS.slice(0, 3),
  lastUpdatedAt: hoursAgo(1),
};
